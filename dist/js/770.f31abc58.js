"use strict";(self["webpackChunkvuejs_essential"]=self["webpackChunkvuejs_essential"]||[]).push([[770],{6770:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-9 left-col"},[e("div",{staticClass:"panel panel-default padding-md"},[e("div",{staticClass:"panel-body"},[t._m(0),e("hr"),e("div",{staticClass:"form-horizontal",attrs:{"data-validator-form":""}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label"},[t._v("用户名")]),e("div",{staticClass:"col-sm-6"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.username,expression:"username",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{title:"用户名",regex:/^[a-zA-Z]+\w*\s?\w*$/,error:"用户名要求以字母开头的单词字符"},expression:"{ title: '用户名', regex: /^[a-zA-Z]+\\w*\\s?\\w*$/, error: '用户名要求以字母开头的单词字符' }",arg:"input",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label"},[t._v("性别")]),e("div",{staticClass:"col-sm-6"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sex=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:""}},[t._v("未选择")]),e("option",{attrs:{value:"1"}},[t._v("男")]),e("option",{attrs:{value:"2"}},[t._v("女")])])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label"},[t._v("个人简介")]),e("div",{staticClass:"col-sm-6"},[e("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.intro,expression:"intro",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.intro},on:{input:function(e){e.target.composing||(t.intro=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-2 col-sm-6"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.updateProfile}},[t._v("应用修改")])])])])])])])},r=[function(){var t=this,e=t._self._c;return e("h2",[e("i",{staticClass:"fa fa-cog"}),t._v(" 编辑个人资料")])}],i=s(2900),o={name:"EditProfile",data(){return{username:"",sex:"",intro:""}},created(){const t=this.$store.state.user;if(t&&"object"===typeof t){const{name:e,sex:s,hobbies:a,intro:r}=t;this.username=e,this.sex=s||this.sex,this.intro=r}},methods:{updateProfile(t){setTimeout((()=>{if(t.target.canSubmit){const t={name:this.username,sex:this.sex,intro:this.intro};(0,i.Nq)(t).then((e=>{this.$store.dispatch("updateUser",t),this.$message.show("修改成功")})).catch((()=>{this.$message.show("修改失败")}))}}))}}},l=o,n=s(1001),c=(0,n.Z)(l,a,r,!1,null,"76633c06",null),u=c.exports}}]);
//# sourceMappingURL=770.f31abc58.js.map